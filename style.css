:root {
    /* Base Colors (Dark Theme Default) */
    --bg-primary: #0f172a; /* slate-900 */
    --bg-secondary: #1e293b; /* slate-800 */
    --bg-tertiary: #293548; /* custom darker slate */
    --bg-modal: rgba(15, 23, 42, 0.92);
    --bg-modal-content: #1e293b;
    --text-primary: #e2e8f0; /* slate-200 */
    --text-secondary: #94a3b8; /* slate-400 */
    --text-accent: #7dd3fc; /* light-sky-400 */
    --text-placeholder: #64748b; /* slate-500 */
    --border-primary: #334155; /* slate-700 */
    --border-secondary: #475569; /* slate-600 */
    --border-focus: #38bdf8; /* sky-400 */
    --ring-focus: rgba(56, 189, 248, 0.3);
    --shadow-color-soft: rgba(0,0,0,0.2);
    --shadow-color-medium: rgba(0,0,0,0.3);
    --shadow-color-strong: rgba(0,0,0,0.4);

    /* Button Specific Colors - Dark Theme */
    --btn-record-start-bg: linear-gradient(to right, #0ea5e9, #22d3ee);
    --btn-record-start-border: #0891b2;
    --btn-record-start-text: white;
    --btn-record-start-hover-bg: linear-gradient(to right, #06b6d4, #0891b2);
    --btn-record-start-ring: #67e8f9;

    --btn-record-stop-bg: linear-gradient(to right, #f43f5e, #fb7185);
    --btn-record-stop-border: #e11d48;
    --btn-record-stop-text: white;
    --btn-record-stop-hover-bg: linear-gradient(to right, #e11d48, #be123c);
    --btn-record-stop-ring: #fda4af;

    --btn-primary-bg: linear-gradient(to right, #4f46e5, #6366f1);
    --btn-primary-border: #3730a3;
    --btn-primary-text: white;
    --btn-primary-hover-bg: linear-gradient(to right, #3730a3, #4f46e5);
    --btn-primary-ring: #818cf8;
    
    --btn-secondary-bg: #475569;
    --btn-secondary-border: #334155;
    --btn-secondary-text: #e2e8f0;
    --btn-secondary-hover-bg: #52525b;
    --btn-secondary-ring: #94a3b8;

    --btn-tertiary-bg: #581c87;
    --btn-tertiary-border: #4c1d95;
    --btn-tertiary-text: white;
    --btn-tertiary-hover-bg: #6b21a8;
    --btn-tertiary-ring: #a855f7;

    --btn-danger-bg: linear-gradient(to right, #e11d48, #be123c);
    --btn-danger-border: #9f1239;
    --btn-danger-text: white;
    --btn-danger-hover-bg: linear-gradient(to right, #9f1239, #881337);
    --btn-danger-ring: #fb7185;

    --btn-neutral-bg: #334155;
    --btn-neutral-border: #1e293b;
    --btn-neutral-text: #cbd5e1;
    --btn-neutral-hover-bg: #475569;
    --btn-neutral-ring: #64748b;

    --icon-color: #94a3b8;
    --icon-hover-color: #e2e8f0;
    --icon-active-color: #38bdf8;

    --history-item-bg: #293548;
    --history-item-border: #39485e;
    --history-item-hover-bg: #334155;
    --history-item-selected-bg: rgba(56, 189, 248, 0.15);
    --history-item-selected-border: #38bdf8;
    --history-panel-bg: #182235;
    --history-filter-bg: #1e293b;
    
    --fallback-item-bg: #293548; 
    --fallback-item-border: #39485e;
    --fallback-item-hover-bg: #334155;

    --scrollbar-track-bg: #1e293b;
    --scrollbar-thumb-bg: #475569;
    --scrollbar-thumb-hover-bg: #64748b;

    --app-icon-color: #22d3ee;
    --app-icon-shadow: rgba(34, 211, 238, 0.5);
}

.light-theme {
    --bg-primary: #f1f5f9; /* slate-100 */
    --bg-secondary: #ffffff; /* white */
    --bg-tertiary: #e2e8f0; /* slate-200 */
    --bg-modal: rgba(226, 232, 240, 0.92); /* slate-200 with opacity */
    --bg-modal-content: #ffffff; /* white */
    --text-primary: #0f172a; /* slate-900 */
    --text-secondary: #475569; /* slate-600 */
    --text-accent: #0ea5e9; /* sky-500 */
    --text-placeholder: #94a3b8; /* slate-400 */
    --border-primary: #cbd5e1; /* slate-300 */
    --border-secondary: #e2e8f0; /* slate-200 */
    --border-focus: #0ea5e9; /* sky-500 */
    --ring-focus: rgba(14, 165, 233, 0.3); /* sky-500 with opacity */
    --shadow-color-soft: rgba(0,0,0,0.05);
    --shadow-color-medium: rgba(0,0,0,0.1);
    --shadow-color-strong: rgba(0,0,0,0.15);

    /* Button Specific Colors - Light Theme */
    --btn-record-start-bg: linear-gradient(to right, #0ea5e9, #22d3ee); /* sky-500 to cyan-400 */
    --btn-record-start-border: #0891b2; /* cyan-600 */
    --btn-record-start-text: white;
    --btn-record-start-hover-bg: linear-gradient(to right, #06b6d4, #0891b2); /* cyan-500 to cyan-600 */
    --btn-record-start-ring: #67e8f9; /* cyan-300 */

    --btn-record-stop-bg: linear-gradient(to right, #f43f5e, #fb7185); /* rose-500 to rose-400 */
    --btn-record-stop-border: #e11d48; /* rose-600 */
    --btn-record-stop-text: white;
    --btn-record-stop-hover-bg: linear-gradient(to right, #e11d48, #be123c); /* rose-600 to rose-700 */
    --btn-record-stop-ring: #fda4af; /* rose-300 */
    
    --btn-primary-bg: #2563eb; /* blue-600 */
    --btn-primary-border: #1d4ed8; /* blue-700 */
    --btn-primary-text: white;
    --btn-primary-hover-bg: #1d4ed8; /* blue-700 */
    --btn-primary-ring: #60a5fa; /* blue-400 */

    --btn-secondary-bg: #e2e8f0; /* slate-200 */
    --btn-secondary-border: #cbd5e1; /* slate-300 */
    --btn-secondary-text: #1e293b; /* slate-800 */
    --btn-secondary-hover-bg: #d1d5db; /* slate-300 (Tailwind gray-300) */
    --btn-secondary-ring: #9ca3af; /* slate-400 (Tailwind gray-400) */

    --btn-tertiary-bg: #9333ea; /* purple-600 */
    --btn-tertiary-border: #7e22ce; /* purple-700 */
    --btn-tertiary-text: white;
    --btn-tertiary-hover-bg: #7e22ce; /* purple-700 */
    --btn-tertiary-ring: #c084fc; /* purple-400 */

    /* Corrected --btn-danger for Light Theme (hellrot mit wei√üer Schrift) */
    --btn-danger-bg: #f87171; /* Tailwind red-400 (hellrot) */
    --btn-danger-border: #ef4444; /* Tailwind red-500 */
    --btn-danger-text: white;
    --btn-danger-hover-bg: #ef4444; /* Tailwind red-500 */
    --btn-danger-ring: #fca5a5; /* Tailwind red-300 */

    --btn-neutral-bg: #f8fafc; /* slate-50 */
    --btn-neutral-border: #e2e8f0; /* slate-200 */
    --btn-neutral-text: #334155; /* slate-700 */
    --btn-neutral-hover-bg: #e2e8f0; /* slate-200 */
    --btn-neutral-ring: #94a3b8; /* slate-400 */

    --icon-color: #0f172a; 
    --icon-hover-color: #020617; 
    --icon-active-color: #0ea5e9;

    --history-item-bg: #f8fafc; /* slate-50 */
    --history-item-border: #e2e8f0; /* slate-200 */
    --history-item-hover-bg: #f1f5f9; /* slate-100 */
    --history-item-selected-bg: rgba(14, 165, 233, 0.1); /* sky-500 with opacity */
    --history-item-selected-border: #0ea5e9; /* sky-500 */
    --history-panel-bg: #f1f5f9; /* slate-100 */
    --history-filter-bg: #ffffff; /* white */

    --fallback-item-bg: #f8fafc; /* slate-50 */
    --fallback-item-border: #e2e8f0; /* slate-200 */
    --fallback-item-hover-bg: #f1f5f9; /* slate-100 */

    --scrollbar-track-bg: #e2e8f0; /* slate-200 */
    --scrollbar-thumb-bg: #94a3b8; /* slate-400 */
    --scrollbar-thumb-hover-bg: #64748b; /* slate-500 */

    --app-icon-color: #0ea5e9; /* sky-500 */
    --app-icon-shadow: rgba(14, 165, 233, 0.4); /* sky-500 with opacity */
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color 0.3s ease, color 0.3s ease;
}
.loader { border: 5px solid var(--border-secondary); border-top: 5px solid var(--border-focus); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

#audioVisualizer { display: flex; align-items: flex-end; justify-content: center; height: 50px; gap: 4px; margin-bottom: 1.25rem; background-color: color-mix(in srgb, var(--bg-tertiary) 50%, transparent); border-radius: 0.5rem; padding: 8px; border: 1px solid var(--border-primary); box-shadow: inset 0 1px 3px var(--shadow-color-soft); }
.visualizer-bar { width: 5px; background-image: linear-gradient(to top, var(--border-focus), var(--text-accent)); transition: height 0.06s ease-out; border-radius: 3px; box-shadow: 0 0 5px color-mix(in srgb, var(--border-focus) 30%, transparent); }

.toast { position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%) translateY(150px); background-color: var(--bg-secondary); color: var(--text-primary); padding: 14px 22px; border-radius: 0.75rem; z-index: 10000; font-size: 0.95rem; font-weight: 500; box-shadow: 0 10px 30px var(--shadow-color-medium), 0 3px 8px var(--shadow-color-soft); transition: opacity 0.35s ease, transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); opacity: 0; border: 1px solid var(--border-primary); }
.toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
.toast.error { background-color: #9f1239; border-color: #f43f5e; color:white; } /* Consistent dark theme error color */
.toast.success { background-color: #065f46; border-color: #10b981; color:white; } /* Consistent dark theme success color */
.toast.info { background-color: #1e40af; border-color: #3b82f6; color:white; } /* Consistent dark theme info color */
.light-theme .toast.error { background-color: var(--btn-danger-bg); border-color: var(--btn-danger-border); color: var(--btn-danger-text); } /* Use theme variables for light mode */
.light-theme .toast.success { background-color: #16a34a; border-color: #15803d; color: white; } /* Example: Tailwind green-600/700 */
.light-theme .toast.info { background-color: #2563eb; border-color: #1d4ed8; color: white; } /* Example: Tailwind blue-600/700 */


.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; z-index: 9998; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0s 0.3s linear; background-color: var(--bg-modal); backdrop-filter: blur(8px); }
.modal-overlay.open { opacity: 1; visibility: visible; transition-delay: 0s; }
.modal-content { background-color: var(--bg-modal-content); box-shadow: 0 20px 45px var(--shadow-color-strong), 0 5px 15px var(--shadow-color-medium); border: 1px solid var(--border-primary); border-radius: 0.75rem; padding: 2rem; width: 90%; max-width: 550px; transform: scale(0.95); transition: transform 0.3s ease; }
.modal-overlay.open .modal-content { transform: scale(1); }
.modal-title { color: var(--text-accent); font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; text-align: center; }
.modal-close-btn { position: absolute; top: 1rem; right: 1rem; font-size: 1.75rem; line-height: 1; border: none; background: transparent; cursor: pointer; color: var(--text-secondary); padding: 0.25rem 0.5rem; border-radius: 50%; transition: color 0.2s, background-color 0.2s; }
.modal-close-btn:hover { color: var(--text-primary); background-color: color-mix(in srgb, var(--bg-tertiary) 70%, transparent); }


.action-button {
    box-shadow: 0 3px 6px var(--shadow-color-soft), 0 1px 3px var(--shadow-color-soft), inset 0 1px 0px color-mix(in srgb, white 5%, transparent);
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    text-shadow: 1px 1px 2px var(--shadow-color-soft);
    font-weight: 600; padding: 0.75rem 1.5rem; border-radius: 0.5rem;
    display: inline-flex; align-items: center; justify-content: center;
    gap: 0.625rem; border: 1px solid transparent; letter-spacing: 0.025em;
}
.action-button:hover {
    box-shadow: 0 6px 12px var(--shadow-color-medium), 0 3px 7px var(--shadow-color-soft), inset 0 1px 0px color-mix(in srgb, white 7%, transparent);
    transform: translateY(-2px) scale(1.02);
}
.action-button:active {
    transform: translateY(0px) scale(0.98);
    box-shadow: 0 2px 4px var(--shadow-color-soft), inset 0 2px 3px var(--shadow-color-soft);
}
.action-button:focus-visible { outline: none; ring-width: 3px; ring-offset-width: 2px; ring-offset-color: var(--bg-primary); }

.action-button:disabled, .action-button[disabled] {
    opacity: 0.75; 
    cursor: not-allowed;
    box-shadow: none !important;
    transform: none !important;
    color: var(--text-secondary) !important;
    border-color: var(--border-primary) !important; 
    background-image: none !important;
    background-color: var(--bg-tertiary) !important; 
}
.action-button:disabled:hover, .action-button[disabled]:hover {
    opacity: 0.75;
    box-shadow: none !important;
    transform: none !important;
    background-color: var(--bg-tertiary) !important;
}


#btn-record.record-button-start { background-image: var(--btn-record-start-bg); border-color: var(--btn-record-start-border); color: var(--btn-record-start-text); padding: 0.85rem 2rem; font-size: 1.15rem; text-transform: uppercase; letter-spacing: 0.05em;}
#btn-record.record-button-start:hover { background-image: var(--btn-record-start-hover-bg), var(--btn-record-start-bg); filter: brightness(1.1); }
#btn-record.record-button-start:focus-visible { ring-color: var(--btn-record-start-ring); }

#btn-record.record-button-stop { background-image: var(--btn-record-stop-bg); border-color: var(--btn-record-stop-border); color: var(--btn-record-stop-text); padding: 0.85rem 2rem; font-size: 1.15rem; text-transform: uppercase; letter-spacing: 0.05em;}
#btn-record.record-button-stop:hover { background-image: var(--btn-record-stop-hover-bg), var(--btn-record-stop-bg); filter: brightness(1.1); }
#btn-record.record-button-stop:focus-visible { ring-color: var(--btn-record-stop-ring); }

.btn-primary { background-image: var(--btn-primary-bg); border-color: var(--btn-primary-border); color: var(--btn-primary-text); }
.btn-primary:hover { background-image: var(--btn-primary-hover-bg), var(--btn-primary-bg); filter: brightness(1.1); }
.btn-primary:focus-visible { ring-color: var(--btn-primary-ring); }

.btn-secondary { background-color: var(--btn-secondary-bg); border-color: var(--btn-secondary-border); color: var(--btn-secondary-text); background-image: none; }
.btn-secondary:hover { background-color: var(--btn-secondary-hover-bg); filter: brightness(1.05); }
.btn-secondary:focus-visible { ring-color: var(--btn-secondary-ring); }

.btn-tertiary { background-color: var(--btn-tertiary-bg); border-color: var(--btn-tertiary-border); color: var(--btn-tertiary-text); background-image: none; }
.btn-tertiary:hover { background-color: var(--btn-tertiary-hover-bg); filter: brightness(1.1); }
.btn-tertiary:focus-visible { ring-color: var(--btn-tertiary-ring); }

.btn-danger { background-image: var(--btn-danger-bg); border-color: var(--btn-danger-border); color: var(--btn-danger-text); }
.btn-danger:hover { background-image: var(--btn-danger-hover-bg), var(--btn-danger-bg); filter: brightness(1.1); }
.btn-danger:focus-visible { ring-color: var(--btn-danger-ring); }

.btn-neutral { background-color: var(--btn-neutral-bg); border-color: var(--btn-neutral-border); color: var(--btn-neutral-text); background-image: none; }
.btn-neutral:hover { background-color: var(--btn-neutral-hover-bg); filter: brightness(1.05); }
.btn-neutral:focus-visible { ring-color: var(--btn-neutral-ring); }

/* Light Theme Button Overrides for solid backgrounds */
.light-theme .btn-primary,
.light-theme .btn-danger {
    background-image: none; /* Remove gradient if any from base style */
}
.light-theme .btn-primary { background-color: var(--btn-primary-bg); color: var(--btn-primary-text); border-color: var(--btn-primary-border); }
.light-theme .btn-primary:hover { background-color: var(--btn-primary-hover-bg); }

.light-theme .btn-danger { background-color: var(--btn-danger-bg); color: var(--btn-danger-text); border-color: var(--btn-danger-border); }
.light-theme .btn-danger:hover { background-color: var(--btn-danger-hover-bg); }


.form-input, .form-select {
    background-color: var(--bg-secondary); border: 1px solid var(--border-primary); color: var(--text-primary);
    box-shadow: inset 0 1px 2px var(--shadow-color-soft);
    border-radius: 0.5rem; padding: 0.75rem 1rem;
    transition: border-color 0.2s, box-shadow 0.2s;
}
.form-input:focus, .form-select:focus {
    outline: none; border-color: var(--border-focus); box-shadow: 0 0 0 3px var(--ring-focus), inset 0 1px 2px var(--shadow-color-soft);
}
.form-input::placeholder { color: var(--text-placeholder); }
.form-label { color: var(--text-secondary); font-weight: 500; margin-bottom: 0.5rem; display: block; }
.form-checkbox {
    height: 1.125rem; width: 1.125rem;
    color: var(--border-focus); 
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
    border-radius: 0.25rem; 
    cursor: pointer; transition: background-color 0.2s, border-color 0.2s;
}
.form-checkbox:focus { ring: 2px solid var(--border-focus); ring-offset: 2px; ring-offset-color: var(--bg-secondary); }
.form-checkbox:checked { background-color: var(--border-focus); border-color: var(--border-focus); }
.form-checkbox-label { color: var(--text-primary); cursor: pointer; transition: color 0.2s; }
.form-checkbox-label:hover { color: var(--text-accent); }

.main-container { background-color: var(--bg-secondary); border: 1px solid var(--border-primary); box-shadow: 0 20px 50px var(--shadow-color-medium), 0 10px 20px var(--shadow-color-soft); border-radius: 0.75rem; }
.main-header { border-bottom: 1px solid var(--border-primary); }
.main-header .app-icon { color: var(--app-icon-color); filter: drop-shadow(0 0 8px var(--app-icon-shadow)); }
.main-header .app-title { color: var(--text-primary); text-shadow: 1px 1px 3px var(--shadow-color-soft); }
.main-header .header-button { color: var(--icon-color); transition: color 0.2s, background-color 0.2s, transform 0.2s; padding: 0.5rem; border-radius: 50%; }
.main-header .header-button:hover { color: var(--icon-hover-color); background-color: var(--bg-tertiary); transform: scale(1.1); }
.main-header .header-button:focus-visible { outline: none; ring: 2px solid var(--border-focus); ring-offset: 2px; ring-offset-color: var(--bg-secondary); }
.light-theme .main-header .header-button:hover { background-color: var(--border-secondary); } 

#theme-toggle-button .fa-sun { display: none; }
.light-theme #theme-toggle-button .fa-moon { display: none; }
.light-theme #theme-toggle-button .fa-sun { display: inline-block; }


.history-item, .fallback-item { background-color: var(--history-item-bg); border: 1px solid var(--history-item-border); box-shadow: 0 2px 4px var(--shadow-color-soft); padding: 12px 16px; margin-bottom: 10px; border-radius: 0.5rem; display: flex; flex-direction: column; gap: 8px; transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s; }
.history-item:hover, .fallback-item:hover { background-color: var(--history-item-hover-bg); border-color: var(--border-focus); box-shadow: 0 4px 8px var(--shadow-color-medium); }
.history-item.selected { background-color: var(--history-item-selected-bg); border-left: 4px solid var(--history-item-selected-border); padding-left: 13px; box-shadow: 0 3px 6px color-mix(in srgb, var(--history-item-selected-border) 20%, transparent); }
.history-item .timestamp, .fallback-item .timestamp { color: var(--text-secondary); font-size: 0.75rem; font-weight: 500; }
.history-item .text-preview { color: var(--text-primary); background-color: color-mix(in srgb, var(--bg-tertiary) 40%, transparent); border: 1px solid var(--history-item-border); font-size: 0.9rem; white-space: pre-wrap; word-break: break-word; max-height: 100px; overflow-y: auto; padding: 10px; border-radius: 0.375rem; margin-top: 4px; }
.fallback-item .fallback-name { color: var(--text-primary); font-size: 0.9rem; font-weight: 500; word-break: break-all; }
textarea.history-item-editor { background-color: var(--bg-secondary); color: var(--text-primary); border: 1px solid var(--border-focus); width: 100%; min-height: 60px; padding: 10px; border-radius: 0.375rem; font-size: 0.9rem; line-height: 1.6; resize: vertical; margin-bottom: 8px;}
.history-item-actions, .fallback-item-actions { display: flex; gap: 6px; margin-top: 8px; flex-wrap: wrap; }
.history-item-actions button, .fallback-item-actions button { padding: 5px 10px !important; font-size: 0.75rem !important; border-radius: 0.375rem !important; letter-spacing: normal !important; text-shadow: none !important; }

.history-actions-bar button, label[for="importHistoryFile"] {
  font-size: 0.8rem; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 600;
  transition: all 0.15s ease-in-out; border: 1px solid transparent; text-shadow: 1px 1px 1px var(--shadow-color-soft);
  display: inline-flex; align-items: center; justify-content: center; gap: 0.375rem; box-shadow: 0 2px 4px var(--shadow-color-soft);
}
.history-actions-bar button:hover, label[for="importHistoryFile"]:hover { transform: translateY(-1px); box-shadow: 0 3px 6px var(--shadow-color-medium); filter: brightness(1.1); }
.history-actions-bar button:active, label[for="importHistoryFile"]:active { transform: translateY(0px); filter: brightness(0.95); }

#exportHistoryButton, #importHistoryFileLabel { background-image: linear-gradient(to right, #059669, #10b981); color: white; border-color: #047857; }
#deleteSelectedHistoryButton { background-image: linear-gradient(to right, #d97706, #f59e0b); color: white; border-color: #b45309; }
#clearHistoryButton { background-image: var(--btn-danger-bg); color: var(--btn-danger-text); border-color: var(--btn-danger-border); }

/* Ensure history action buttons in light theme use solid colors if gradients are an issue */
.light-theme #exportHistoryButton, .light-theme #importHistoryFileLabel {
    background-image: none; background-color: #10b981; /* Example: green-500 */
    border-color: #059669; /* Example: green-600 */
}
.light-theme #exportHistoryButton:hover, .light-theme #importHistoryFileLabel:hover { background-color: #059669; }

.light-theme #deleteSelectedHistoryButton {
    background-image: none; background-color: #f59e0b; /* Example: amber-500 */
    border-color: #d97706; /* Example: amber-600 */
}
.light-theme #deleteSelectedHistoryButton:hover { background-color: #d97706; }

.light-theme #clearHistoryButton {
    background-image: none; background-color: var(--btn-danger-bg); /* Uses light theme var */
    color: var(--btn-danger-text); border-color: var(--btn-danger-border);
}
.light-theme #clearHistoryButton:hover { background-color: var(--btn-danger-hover-bg); }


.history-panel-section { background-color: var(--history-panel-bg); box-shadow: inset 0 2px 4px var(--shadow-color-soft); padding: 1.25rem; border-radius: 0.5rem;}
.history-actions-bar { border-bottom-color: var(--border-primary); }
.history-filter-input { background-color: var(--history-filter-bg); border-color: var(--border-primary); color: var(--text-primary); }
.history-filter-input:focus { border-color: var(--border-focus); box-shadow: 0 0 0 2px var(--ring-focus); }

#audio-fallback-list { max-height: 400px; overflow-y: auto; padding-right: 0.5rem; }


::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--scrollbar-track-bg); border-radius: 4px; }
::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb-bg); border: 1px solid var(--scrollbar-track-bg); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-thumb-hover-bg); }

.settings-icon-wrapper { position: relative; }
.api-key-status-dot { border: 2px solid var(--bg-secondary); box-shadow: 0 0 5px var(--shadow-color-medium); position: absolute; top: -2px; right: -2px; width: 10px; height: 10px; border-radius: 50%;}
.api-key-status-dot.missing { background-color: #fb7185; } /* rose-400 */
.api-key-status-dot.set { background-color: #34d399; } /* emerald-400 */
.light-theme .api-key-status-dot.missing { background-color: #f43f5e; } /* rose-500 */
.light-theme .api-key-status-dot.set { background-color: #10b981; } /* emerald-500 */


.language-switcher { position: relative; }
.language-switcher button { color: var(--icon-color); }
.language-switcher button:hover { background-color: var(--bg-tertiary); color: var(--icon-hover-color); }
.language-switcher button:focus-visible { ring-color: var(--border-focus); ring-offset-color: var(--bg-secondary); }
.language-dropdown {
    position: absolute; top: calc(100% + 0.5rem); right: 0;
    background-color: var(--bg-tertiary); border: 1px solid var(--border-primary);
    box-shadow: 0 8px 20px var(--shadow-color-medium); border-radius: 0.5rem;
    padding: 0.5rem; z-index: 100; min-width: 160px;
    opacity: 0; visibility: hidden; transform: translateY(-10px);
    transition: opacity 0.2s ease, transform 0.2s ease, visibility 0s 0.2s linear;
}
.language-dropdown.open { opacity: 1; visibility: visible; transform: translateY(0); transition-delay: 0s; }
.language-dropdown a { display: block; padding: 0.5rem 1rem; border-radius: 0.375rem; color: var(--text-primary); text-decoration: none; font-size: 0.9rem; transition: background-color 0.2s, color 0.2s; }
.language-dropdown a:hover { background-color: var(--border-primary); color: var(--text-primary); }
.language-dropdown a.active { background-color: var(--border-focus); color: var(--bg-primary); font-weight: 600; }

.section-title { color: var(--text-accent); border-bottom-color: var(--border-primary); font-size: 1.5rem; font-weight: 600; margin-bottom: 1.25rem; text-align: center; padding-bottom: 0.5rem; border-bottom-width: 1px; display: inline-block; position: relative; left: 50%; transform: translateX(-50%);}
.section-title::after { content: ''; display: block; width: 50px; height: 3px; background-color: var(--app-icon-color); position: absolute; bottom: -2px; left: 50%; transform: translateX(-50%); border-radius: 2px;}
hr.section-divider { border-color: var(--border-primary); margin-top: 2.5rem; margin-bottom: 2.5rem; }

.tooltip-icon { color: var(--text-secondary); margin-left: 0.25rem; cursor: help; transition: color 0.2s;}
.tooltip-icon:hover { color: var(--border-focus); }
.tooltip-text {
    position: absolute; bottom: calc(100% + 0.5rem); left: 50%; transform: translateX(-50%);
    width: max-content; max-width: 280px; padding: 0.75rem 1rem;
    background-color: var(--bg-primary); color: var(--text-primary);
    font-size: 0.8rem; font-weight: normal; border-radius: 0.5rem;
    box-shadow: 0 5px 15px var(--shadow-color-medium); opacity: 0;
    transition: opacity 0.25s ease-in-out, transform 0.25s ease-in-out;
    pointer-events: none; z-index: 20; border: 1px solid var(--border-primary);
    transform-origin: bottom center;
}
 .group:hover .tooltip-text { opacity: 1; transform: translateX(-50%) translateY(-5px); }
